<script type=module>
import { NETWORK_EVENT, PENDING_STATE, COMPLETE_STATE } from './network-event.js';

window.addEventListener(NETWORK_EVENT, async e => {
  switch (e.detail.state) {
    case PENDING_STATE: console.log('loading', e.detail); break;
    case COMPLETE_STATE: console.log(e.detail, await e.detail.json()); break;
  }
});

fetch('https://jsonplaceholder.typicode.com/users');

const req = new XMLHttpRequest();
req.open('get', 'https://jsonplaceholder.typicode.com/users');
req.send();
</script>
